{
  "timestamp": "2026-02-09T13:20:23.289726",
  "test_type": "firestore_migration",
  "total_tests": 17,
  "passed_tests": 16,
  "failed_tests": [
    {
      "test": "Notifications - By Email Endpoint",
      "error": "Notifications failed: {'status_code': 520, 'text': 'Internal Server Error'}"
    }
  ],
  "success_rate": 94.11764705882352,
  "detailed_results": {
    "Health Endpoint - Database Firestore": {
      "success": true,
      "details": "Database: firestore",
      "timestamp": "2026-02-09T13:20:19.161405"
    },
    "Products API - Returns Products": {
      "success": true,
      "details": "Found 32 products",
      "timestamp": "2026-02-09T13:20:19.372493"
    },
    "Products API - Product Structure": {
      "success": true,
      "details": "Fields: ['created_at', 'description', 'price', 'rating', 'updated_at', 'brand', 'review_count', 'name', 'in_stock', 'vendor_id', 'image', 'stock_quantity', 'category', 'weight', 'id']",
      "timestamp": "2026-02-09T13:20:19.372508"
    },
    "Vendors API - Returns 3+ Vendors": {
      "success": true,
      "details": "Found 3 vendors",
      "timestamp": "2026-02-09T13:20:19.560099"
    },
    "Vendors API - Vendor Structure": {
      "success": true,
      "details": "Fields: ['id', 'name', 'rating', 'totalSales', 'location', 'verified']",
      "timestamp": "2026-02-09T13:20:19.560113"
    },
    "User Registration - Creates User": {
      "success": true,
      "details": "User ID: z2YfdhjSsZJCciDpiwgx",
      "timestamp": "2026-02-09T13:20:20.082726"
    },
    "User Registration - Returns Token": {
      "success": true,
      "details": "Token length: 231",
      "timestamp": "2026-02-09T13:20:20.082739"
    },
    "User Registration - User Data": {
      "success": true,
      "details": "Name: Firestore Test User",
      "timestamp": "2026-02-09T13:20:20.082744"
    },
    "User Login - Test Credentials": {
      "success": true,
      "details": "Logged in as test@afromarket.co.uk",
      "timestamp": "2026-02-09T13:20:20.490167"
    },
    "Auth Me - Returns User Data": {
      "success": true,
      "details": "User: test@afromarket.co.uk",
      "timestamp": "2026-02-09T13:20:20.668927"
    },
    "Auth Me - User ID Match": {
      "success": true,
      "details": "ID: kLZWkFS9tZ6LPiESLxK5",
      "timestamp": "2026-02-09T13:20:20.668937"
    },
    "Vendor Registration - Creates in Firestore": {
      "success": true,
      "details": "Vendor ID: zYQqofxd3gpvRQcWIMJR",
      "timestamp": "2026-02-09T13:20:21.809762"
    },
    "Vendor Registration - Email Notification": {
      "success": true,
      "details": "Email sent: True",
      "timestamp": "2026-02-09T13:20:21.809776"
    },
    "Vendor Registration - Response Message": {
      "success": true,
      "details": "Message: Application submitted! We will review within 2-3 business days.",
      "timestamp": "2026-02-09T13:20:21.809780"
    },
    "Contact Form - Submission Works": {
      "success": true,
      "details": "Response: Message sent successfully",
      "timestamp": "2026-02-09T13:20:22.936034"
    },
    "Firebase Auth - Configured Status": {
      "success": true,
      "details": "Message: Firebase is configured",
      "timestamp": "2026-02-09T13:20:22.975944"
    },
    "Notifications - By Email Endpoint": {
      "success": false,
      "details": "Notifications failed: {'status_code': 520, 'text': 'Internal Server Error'}",
      "timestamp": "2026-02-09T13:20:23.289458"
    }
  }
}